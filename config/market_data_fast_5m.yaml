# FAST PROCESS: minimal REST load, WS candles (1m/5m) + optional liquidations
# Purpose:
#   - свечи 1m/5m в реальном времени
#   - seed только 2 дня
#   - universe/filters/retention НЕ тут

exchange: binance
exchange_id: 1

rest_limits:
  max_rps: 4.0
  max_rpm: 450
  force: true

startup_stagger:
  after_candles: 0.4
  after_liquidations: 0.3

universe:
  enabled: false

symbol_filters:
  enabled: false

symbols_refresh:
  refresh_sec: 60

market_data:
  enabled: true
  candle_intervals: ["1m", "5m"]

  # REST seed: последние 2 дня
  seed_on_start: true
  seed_days: 2
  seed_limit: 1500
  seed_max_pages_per_symbol: 2
  seed_symbols_per_cycle: 8
  per_request_sleep_sec: 0.12
  seed_overlap_minutes: 30

  # WS candles
  use_ws: true
  ws_max_streams_per_conn: 120
  ws_url_max_len: 2600

  # ✅ ВАЖНО: только закрытые свечи (снимает 90% нагрузки)
  update_open_candle: false

  # supervisor не нужен (universe фиксированный)
  ws_supervisor:
    enabled: false

  # ✅ стабильные ping/pong (используется твоим collector_candles.py)
  ws_ping_interval: 60
  ws_ping_timeout: 30

  # REST catchup при подключении (легкий)
  rest_catchup_on_connect: true
  rest_catchup_overlap_minutes: 15
  rest_catchup_limit: 1500
  rest_catchup_max_pages: 1

  catchup_seed_days: 1
  catchup_max_symbols: 40

liquidations:
  enabled: true
  flush_sec: 1.0

open_interest:
  enabled: false

funding:
  enabled: false

ticker_24h:
  enabled: false

market_trades:
  enabled: false

market_trades_all:
  enabled: false

market_state_5m:
  enabled: false

candles_gap_repair:
  enabled: false

retention:
  enabled: false
